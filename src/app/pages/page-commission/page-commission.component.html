<div class="container-fluid mt-5">
    <div class="nk-content-inner">
        <div class="nk-block-head-content">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item active" aria-current="page">Mis Comisiones</li>
                </ol>
            </nav>
        </div>

        <div class="nk-block">
            <div class="card">
                <div class="card-aside-wrap">
                    <div class="card-inner card-inner-sm">
                        <div class="nk-block-head nk-block-head-sm"
                            style="display: flex; justify-content: space-between; align-items: center;">
                            <h6>Mis Comisiones</h6>
                        </div>
                    </div>
                </div>
                <!-- <div class="nk-block"> -->
                <p-table #dt1 [value]="commissionInternals" selectionMode="single" [showCurrentPageReport]="true"
                    dataKey="id" [rows]="12" responsiveLayout="stack" [showCurrentPageReport]="true"
                    [rowsPerPageOptions]="[10, 25, 50]" [loading]="loading" [paginator]="true"
                    currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
                    [tableStyle]="{ 'min-width': '20rem','max-width': '100rem'}" [rowHover]="true"
                    [styleClass]="'p-datatable-sm'"
                    [globalFilterFields]="['name_role','commission.name','commission.date','commission.phase.name','commission.commissionHeadquarter.name','commission.commissionHeadquarter.address']">
                    <ng-template pTemplate="caption">
                        <div style="display: flex; justify-content: flex-end;">
                            <span class="p-input-icon-left ml-auto">
                                <i class="pi pi-search"></i>
                                <input class="p-inputtext-sm" pInputText type="text"
                                    (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
                                    placeholder="Búsqueda" />
                            </span>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width:5%">Nro.</th>
                            <th pSortableColumn="name_role" style="width:10%">Designado<p-sortIcon
                                    field="name_role"></p-sortIcon></th>
                            <th pSortableColumn="commission.name" style="width:10%">Comisión<p-sortIcon
                                    field="commission.name"></p-sortIcon></th>
                            <th pSortableColumn="commission.date" style="width:10%">Fecha <p-sortIcon
                                    field="commision.date"></p-sortIcon></th>
                            <th pSortableColumn="commission.phase.name" style="width:10%">Fase <p-sortIcon
                                    field="commission.phase.name"></p-sortIcon></th>
                            <th pSortableColumn="commission.commissionHeadquarter.name" style="width:15%">
                                Sede<p-sortIcon field="commission.commissionHeadquarter.name"></p-sortIcon></th>
                            <th pSortableColumn="commission.commissionHeadquarter.address" style="width:15%">Dirección
                                Sede<p-sortIcon field="commission.commissionHeadquarter.name"></p-sortIcon></th>
                            <th style="width:15%">Opciones</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-commissionInternal let-rowIndex="rowIndex">
                        <tr [pSelectableRow]="commissionInternal">

                            <td>
                                <span class="p-column-title">Nro.:</span>

                                {{rowIndex + 1}}
                            </td>

                            <td>
                                <span class="p-column-title">Designado:</span>
                                {{commissionInternal.name_role}}
                            </td>
                            <td>
                                <span class="p-column-title">Comisión:</span>
                                {{commissionInternal.commission.name}}
                            </td>
                            <td>
                                <span class="p-column-title">Fecha</span>
                                {{commissionInternal.commission.date | date: 'dd/MM/yyyy'}}
                            </td>
                            <td>
                                <span class="p-column-title">Fase</span>
                                {{commissionInternal.commission.phase.name}}
                            </td>
                            <td>
                                <span class="p-column-title">Sede:</span>
                                {{commissionInternal.commission.commissionHeadquarter.name}}
                            </td>
                            <td>
                                <span class="p-column-title">Dirección Sede:</span>
                                {{commissionInternal.commission.commissionHeadquarter.address}}
                            </td>
                            <td>
                                <span class="p-column-title">Opciones:</span>
                                <button mat-stroked-button color="primary" (click)="btnCommissionMembers(commissionInternal.commission)">Integrantes</button>
        
                                <button mat-stroked-button  color="accent" (click)="btnCommissionAssigneds(commissionInternal.commission)">Cargos</button>
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="8">No se encontraron datos.</td>
                        </tr>
                    </ng-template>
                </p-table>
                <!-- </div> -->
            </div>
        </div>
    </div>
</div>